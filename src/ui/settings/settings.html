<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>arXiv to Markdown - ËÆæÁΩÆ</title>
    <link rel="stylesheet" href="settings.css" />
  </head>
  <body>
    <div class="settings-container">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <!-- Brand Logo -->
            <svg
              width="36"
              height="36"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                width="24"
                height="24"
                rx="6"
                fill="white"
                fill-opacity="0.2"
              />
              <text
                x="12"
                y="17"
                font-family="Arial, sans-serif"
                font-weight="bold"
                font-size="13"
                fill="white"
                text-anchor="middle"
              >
                Md
              </text>
            </svg>
            <h1>arXiv to Markdown</h1>
          </div>
          <div style="display: flex; align-items: center; gap: 15px">
            <button class="btn-lang" id="langToggle" title="Switch Language">
              <span id="langIcon">üåê</span>
              <span id="langText">‰∏≠Êñá</span>
            </button>
            <div class="version">v1.0.0</div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Welcome Message (shown on first install) -->
        <div class="welcome-banner" id="welcomeBanner" style="display: none">
          <h2 data-i18n="welcome_title">üéâ Welcome to arXiv to Markdown!</h2>
          <p data-i18n="welcome_desc">
            Convert arXiv papers to Markdown with one click. Fast conversion
            with ar5iv, automatic PDF fallback.
          </p>
        </div>

        <!-- Conversion Mode Section -->
        <section class="settings-section">
          <h2 data-i18n="mode_title">Conversion Mode</h2>
          <p class="section-description" data-i18n="mode_desc">
            Choose your default conversion strategy
          </p>

          <div class="mode-cards">
            <label class="mode-card">
              <input type="radio" name="conversionMode" value="fast" checked />
              <div class="mode-content">
                <div class="mode-icon">‚ö°</div>
                <div class="mode-title" data-i18n="mode_standard_title">
                  Standard Mode
                </div>
                <div class="mode-description" data-i18n="mode_standard_desc">
                  ar5iv + local conversion, PDF fallback
                </div>
                <div
                  class="mode-badge mode-badge-recommended"
                  data-i18n="mode_recommended"
                >
                  Recommended
                </div>
              </div>
            </label>

            <label class="mode-card">
              <input type="radio" name="conversionMode" value="always" />
              <div class="mode-content">
                <div class="mode-icon">üíé</div>
                <div class="mode-title" data-i18n="mode_mineru_title">
                  MinerU Mode
                </div>
                <div class="mode-description" data-i18n="mode_mineru_desc">
                  Always use MinerU (manual, requires token)
                </div>
                <div class="mode-badge" data-i18n="mode_requires_token">
                  Requires Token
                </div>
              </div>
            </label>
          </div>
        </section>

        <!-- MinerU API Section -->
        <section class="settings-section">
          <h2 data-i18n="mineru_title">MinerU API Configuration</h2>
          <p class="section-description" data-i18n="mineru_desc">
            Optional: For manual MinerU mode only
          </p>

          <div class="form-group">
            <label for="mineruToken" data-i18n="mineru_token_label"
              >API Token</label
            >
            <div class="input-group">
              <input
                type="password"
                id="mineruToken"
                data-i18n-placeholder="mineru_token_placeholder"
                placeholder="Enter your MinerU API Token"
                class="input-field"
              />
              <button id="toggleTokenBtn" class="btn-icon" title="Show/Hide">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                >
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                  <circle cx="12" cy="12" r="3" />
                </svg>
              </button>
            </div>
            <div class="form-hint">
              üîó
              <a
                href="https://mineru.net"
                target="_blank"
                data-i18n="mineru_visit"
                >Visit mineru.net</a
              >
              <span data-i18n="mineru_hint"
                >to register and get your token</span
              >
            </div>
            <div class="token-status" id="tokenStatus"></div>
          </div>
        </section>

        <!-- Advanced Settings -->
        <section class="settings-section">
          <h2 data-i18n="advanced_title">Advanced Options</h2>

          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="autoConvert" />
              <span data-i18n="advanced_auto"
                >Auto-convert (show prompt on paper page load)</span
              >
            </label>
          </div>

          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="includeMetadata" checked />
              <span data-i18n="advanced_metadata"
                >Include metadata in Markdown (title, authors, ID, etc.)</span
              >
            </label>
          </div>

          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="showNotifications" checked />
              <span data-i18n="advanced_notifications"
                >Show desktop notifications</span
              >
            </label>
          </div>
        </section>

        <!-- Statistics -->
        <section class="settings-section">
          <h2 data-i18n="stats_title">Usage Statistics</h2>

          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-number" id="totalConversions">0</div>
              <div class="stat-label" data-i18n="stats_total">
                Total Conversions
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="ar5ivSuccess">0</div>
              <div class="stat-label" data-i18n="stats_ar5iv">
                ar5iv Success
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="mineruSuccess">0</div>
              <div class="stat-label" data-i18n="stats_mineru">
                MinerU Success
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="pdfFallback">0</div>
              <div class="stat-label" data-i18n="stats_pdf">PDF Fallback</div>
            </div>
          </div>

          <button
            class="btn btn-secondary"
            id="resetStatsBtn"
            data-i18n="stats_reset"
          >
            Reset Statistics
          </button>
        </section>

        <!-- Actions -->
        <div class="actions-bar">
          <button class="btn btn-primary" id="saveBtn" data-i18n="btn_save">
            Save Settings
          </button>
          <button class="btn btn-secondary" id="resetBtn" data-i18n="btn_reset">
            Reset to Default
          </button>
        </div>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-content">
          <div class="footer-links">
            <a href="https://github.com/yourusername/arxiv-md" target="_blank"
              >GitHub</a
            >
            <span>‚Ä¢</span>
            <a
              href="https://github.com/yourusername/arxiv-md/issues"
              target="_blank"
              >Êä•ÂëäÈóÆÈ¢ò</a
            >
          </div>
          <div class="footer-copyright">
            ¬© 2025 Jinfeng Sun. Made with ‚ù§Ô∏è for researchers.
          </div>
        </div>
      </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
      <span class="toast-message"></span>
    </div>

    <script src="settings.js"></script>
  </body>
</html>
