<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MinerU 任务中心</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="popup-container">
      <!-- Header -->
      <div class="header">
        <div class="header-left">
          <img src="../../assets/icon.svg" alt="Logo" width="24" height="24" />
          <h1 data-i18n="popup_title">MinerU 任务</h1>
        </div>
        <div class="header-actions">
          <button class="icon-btn settings-btn" id="settingsBtn" data-i18n-title="popup_btn_settings" title="打开设置">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
              </path>
            </svg>
          </button>
          <button class="icon-btn" id="clearCompletedBtn" title="清空已完成">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path
                d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Z" />
            </svg>
          </button>
        </div>
        </div>
        
        <!-- Stats Summary -->
        <div class="stats-summary" id="statsSummary">
          <div class="stat-item">
            <span class="stat-label" data-i18n="stats_total">总任务</span>
            <span class="stat-value" id="statsTotal">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label" data-i18n="popup_status_processing">处理中</span>
            <span class="stat-value processing" id="statsProcessing">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label" data-i18n="popup_status_completed">已完成</span>
            <span class="stat-value completed" id="statsCompleted">0</span>
          </div>
        </div>
        
        <!-- Task List -->
        <div class="task-list-container">
          <div class="task-list" id="taskList">
            <!-- 任务卡片将动态插入 -->
          </div>
        
          <!-- Empty State -->
          <div class="empty-state" id="emptyState" style="display: none">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="3" y="3" width="18" height="18" rx="2" />
              <path d="M9 9h6M9 13h6M9 17h3" />
            </svg>
            <p data-i18n="popup_empty_title">暂无转换任务</p>
            <small data-i18n="popup_empty_desc">在 arXiv 论文页面点击 MinerU 转换按钮</small>
          </div>
      </div>

      <!-- Footer -->
      <div class="footer">
        <span class="footer-text">© 2025 arXiv to Markdown</span>
        <a href="#" id="refreshBtn" class="footer-link">刷新</a>
      </div>
    </div>

    <!-- 确认对话框 -->
    <div class="confirm-overlay" id="confirmOverlay">
      <div class="confirm-dialog">
        <p class="confirm-message" id="confirmMessage">确定要删除吗？</p>
        <div class="confirm-actions">
          <button class="confirm-btn confirm-cancel" id="confirmCancel">取消</button>
          <button class="confirm-btn confirm-ok" id="confirmOk">确定</button>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
