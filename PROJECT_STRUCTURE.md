# é¡¹ç›®å®Œæ•´ç›®å½•ç»“æ„

```
arxiv-md/
â”œâ”€â”€ .babelrc                      # Babel é…ç½®
â”œâ”€â”€ .eslintrc.json                # ESLint ä»£ç æ£€æŸ¥é…ç½®
â”œâ”€â”€ .gitignore                    # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ CHANGELOG.md                  # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ CONTRIBUTING.md               # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ LICENSE                       # MIT å¼€æºåè®®
â”œâ”€â”€ README.md                     # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ PROJECT_STRUCTURE.md          # æœ¬æ–‡ä»¶ï¼ˆç›®å½•ç»“æ„è¯´æ˜ï¼‰
â”œâ”€â”€ package.json                  # NPM ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ webpack.config.js             # Webpack æ„å»ºé…ç½®
â”‚
â”œâ”€â”€ assets/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ README.md                 # å›¾æ ‡è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ icon-16.png               # 16x16 å·¥å…·æ å›¾æ ‡ï¼ˆéœ€åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ icon-48.png               # 48x48 æ‰©å±•ç®¡ç†å›¾æ ‡ï¼ˆéœ€åˆ›å»ºï¼‰
â”‚   â””â”€â”€ icon-128.png              # 128x128 åº”ç”¨å•†åº—å›¾æ ‡ï¼ˆéœ€åˆ›å»ºï¼‰
â”‚
â”œâ”€â”€ docs/                         # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ ARCHITECTURE.md           # æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚
â”œâ”€â”€ scripts/                      # æ„å»ºå’Œå·¥å…·è„šæœ¬
â”‚   â””â”€â”€ package.js                # æ‰“åŒ…è„šæœ¬ï¼ˆç”Ÿæˆ .zipï¼‰
â”‚
â””â”€â”€ src/                          # æºä»£ç ç›®å½•
    â”œâ”€â”€ manifest.json             # Chrome Extension é…ç½®æ–‡ä»¶
    â”‚
    â”œâ”€â”€ background/               # Background Service Worker
    â”‚   â””â”€â”€ index.js              # åå°æœåŠ¡ä¸»æ–‡ä»¶
    â”‚
    â”œâ”€â”€ content/                  # Content Script
    â”‚   â””â”€â”€ index.js              # æ³¨å…¥ arXiv é¡µé¢çš„è„šæœ¬
    â”‚
    â”œâ”€â”€ core/                     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    â”‚   â”œâ”€â”€ converter/            # è½¬æ¢å¼•æ“
    â”‚   â”‚   â”œâ”€â”€ ar5iv-converter.js    # Tier 1: ar5iv â†’ Markdown
    â”‚   â”‚   â”œâ”€â”€ mineru-client.js      # Tier 2: MinerU API å®¢æˆ·ç«¯
    â”‚   â”‚   â””â”€â”€ index.js              # ä¸»è½¬æ¢å™¨ï¼ˆä¸‰å±‚æ¶æ„åè°ƒï¼‰
    â”‚   â””â”€â”€ metadata-extractor.js     # è®ºæ–‡å…ƒæ•°æ®æå–å™¨
    â”‚
    â”œâ”€â”€ ui/                       # ç”¨æˆ·ç•Œé¢
    â”‚   â”œâ”€â”€ popup/                # å¼¹å‡ºçª—å£
    â”‚   â”‚   â”œâ”€â”€ popup.html        # HTML ç»“æ„
    â”‚   â”‚   â”œâ”€â”€ popup.css         # æ ·å¼
    â”‚   â”‚   â””â”€â”€ popup.js          # äº¤äº’é€»è¾‘
    â”‚   â””â”€â”€ settings/             # è®¾ç½®é¡µé¢
    â”‚       â”œâ”€â”€ settings.html     # HTML ç»“æ„
    â”‚       â”œâ”€â”€ settings.css      # æ ·å¼
    â”‚       â””â”€â”€ settings.js       # äº¤äº’é€»è¾‘
    â”‚
    â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°åº“
    â”‚   â”œâ”€â”€ helpers.js            # é€šç”¨è¾…åŠ©å‡½æ•°
    â”‚   â”œâ”€â”€ logger.js             # æ—¥å¿—å·¥å…·
    â”‚   â””â”€â”€ storage.js            # Chrome Storage å°è£…
    â”‚
    â””â”€â”€ config/                   # é…ç½®å’Œå¸¸é‡
        â””â”€â”€ constants.js          # å…¨å±€å¸¸é‡å®šä¹‰

æ„å»ºåçš„ç›®å½•ï¼š
â”œâ”€â”€ dist/                         # Webpack æ„å»ºè¾“å‡ºï¼ˆgit ignoredï¼‰
â”‚   â”œâ”€â”€ manifest.json
â”‚   â”œâ”€â”€ background.js
â”‚   â”œâ”€â”€ content.js
â”‚   â”œâ”€â”€ popup.html / popup.css / popup.js
â”‚   â”œâ”€â”€ settings.html / settings.css / settings.js
â”‚   â””â”€â”€ assets/
â”‚
â””â”€â”€ build/                        # æ‰“åŒ…è¾“å‡ºï¼ˆgit ignoredï¼‰
    â””â”€â”€ arxiv-md-v1.0.0.zip      # å¯ä¸Šä¼ åˆ° Chrome Web Store
```

## ğŸ“ ç›®å½•è¯´æ˜

### æ ¹ç›®å½•é…ç½®æ–‡ä»¶

| æ–‡ä»¶                | è¯´æ˜                                 |
| ------------------- | ------------------------------------ |
| `package.json`      | NPM ä¾èµ–ç®¡ç†ï¼ŒåŒ…å«æ‰€æœ‰å¼€å‘å’Œç”Ÿäº§ä¾èµ– |
| `webpack.config.js` | Webpack æ„å»ºé…ç½®ï¼Œæ”¯æŒå¼€å‘å’Œç”Ÿäº§æ¨¡å¼ |
| `.babelrc`          | Babel é…ç½®ï¼Œç¼–è¯‘ ES6+ ä»£ç            |
| `.eslintrc.json`    | ESLint è§„åˆ™ï¼Œä¿è¯ä»£ç è´¨é‡            |
| `.gitignore`        | Git å¿½ç•¥è§„åˆ™                         |

### `/src` - æºä»£ç 

#### `/src/background`

- **èŒè´£**: Service Workerï¼Œå¤„ç†åå°ä»»åŠ¡
- **å…³é”®åŠŸèƒ½**: æ¶ˆæ¯è·¯ç”±ã€è½¬æ¢ä»»åŠ¡åè°ƒã€æ‰©å±•ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### `/src/content`

- **èŒè´£**: æ³¨å…¥åˆ° arXiv é¡µé¢çš„è„šæœ¬
- **å…³é”®åŠŸèƒ½**: æŒ‰é’®æ³¨å…¥ã€å…ƒæ•°æ®æå–ã€ç”¨æˆ·äº¤äº’ã€è¿›åº¦åé¦ˆ

#### `/src/core/converter`

- **èŒè´£**: æ ¸å¿ƒè½¬æ¢å¼•æ“
- **æ¨¡å—**:
  - `ar5iv-converter.js`: å¤„ç† ar5iv HTML â†’ Markdown
  - `mineru-client.js`: MinerU API å°è£…
  - `index.js`: ä¸»æ§åˆ¶å™¨ï¼Œå®ç°ä¸‰å±‚é™çº§ç­–ç•¥

#### `/src/ui`

- **èŒè´£**: ç”¨æˆ·ç•Œé¢
- **é¡µé¢**:
  - `popup/`: å·¥å…·æ å¼¹å‡ºçª—å£ï¼ˆçŠ¶æ€å±•ç¤ºã€å¿«æ·æ“ä½œï¼‰
  - `settings/`: è®¾ç½®é¡µé¢ï¼ˆé…ç½®ç®¡ç†ã€ç»Ÿè®¡æ•°æ®ï¼‰

#### `/src/utils`

- **èŒè´£**: å¯å¤ç”¨å·¥å…·å‡½æ•°
- **æ¨¡å—**:
  - `helpers.js`: æ–‡ä»¶åç”Ÿæˆã€ä¸‹è½½ç®¡ç†ã€æ ¼å¼åŒ–ç­‰
  - `logger.js`: åˆ†çº§æ—¥å¿—ç³»ç»Ÿ
  - `storage.js`: Chrome Storage å°è£…

#### `/src/config`

- **èŒè´£**: å…¨å±€é…ç½®å’Œå¸¸é‡
- **æ–‡ä»¶**: `constants.js` - API ç«¯ç‚¹ã€é”™è¯¯æ¶ˆæ¯ã€é…ç½®é»˜è®¤å€¼ç­‰

### `/assets` - é™æ€èµ„æº

å­˜æ”¾æ‰©å±•å›¾æ ‡ï¼ˆéœ€æ‰‹åŠ¨åˆ›å»º PNG å›¾æ ‡æ–‡ä»¶ï¼‰

### `/docs` - æ–‡æ¡£

- `ARCHITECTURE.md`: è¯¦ç»†çš„æ¶æ„è®¾è®¡æ–‡æ¡£

### `/scripts` - å·¥å…·è„šæœ¬

- `package.js`: å°† `dist/` æ‰“åŒ…æˆ ZIP ç”¨äºå‘å¸ƒ

## ğŸ”§ å…³é”®ä¾èµ–

### ç”Ÿäº§ä¾èµ–

```json
{
  "@mozilla/readability": "^0.5.0", // HTML å†…å®¹æå–
  "turndown": "^7.2.0", // HTML â†’ Markdown
  "turndown-plugin-gfm": "^1.0.2" // GitHub Flavored Markdown
}
```

### å¼€å‘ä¾èµ–

```json
{
  "webpack": "^5.90.0", // æ¨¡å—æ‰“åŒ…
  "babel-loader": "^9.1.3", // ES6+ ç¼–è¯‘
  "copy-webpack-plugin": "^12.0.2", // é™æ€æ–‡ä»¶å¤åˆ¶
  "eslint": "^8.57.0" // ä»£ç æ£€æŸ¥
}
```

## ğŸ“¦ æ„å»ºæµç¨‹

```bash
npm install           # å®‰è£…ä¾èµ–
npm run dev           # å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
npm run build         # ç”Ÿäº§æ„å»ºï¼ˆä¼˜åŒ– + å‹ç¼©ï¼‰
npm run package       # æ‰“åŒ…æˆ ZIPï¼ˆä¸Šä¼ åˆ°åº”ç”¨å•†åº—ï¼‰
```

### æ„å»ºè¾“å‡º

- **å¼€å‘æ¨¡å¼**: `dist/` ç›®å½•ï¼ŒåŒ…å«æœªå‹ç¼©çš„ä»£ç å’Œ source maps
- **ç”Ÿäº§æ¨¡å¼**: `dist/` ç›®å½•ï¼Œä»£ç å‹ç¼©ä¼˜åŒ–
- **æ‰“åŒ…**: `build/arxiv-md-vX.X.X.zip`

## ğŸš€ å¿«é€Ÿå¯¼èˆª

### æƒ³è¦ä¿®æ”¹...

- **è½¬æ¢é€»è¾‘**: â†’ `src/core/converter/`
- **UI æ ·å¼**: â†’ `src/ui/*/`ï¼ˆHTML/CSS æ–‡ä»¶ï¼‰
- **é…ç½®é€‰é¡¹**: â†’ `src/config/constants.js`
- **æ·»åŠ æ–°åŠŸèƒ½**: â†’ ä» `src/core/` å¼€å§‹
- **ä¿®æ”¹å›¾æ ‡**: â†’ `assets/`

### æƒ³è¦ç†è§£...

- **æ•´ä½“æ¶æ„**: â†’ `docs/ARCHITECTURE.md`
- **è½¬æ¢æµç¨‹**: â†’ `src/core/converter/index.js`
- **ä¸‰å±‚ç­–ç•¥**: â†’ `README.md` + `docs/ARCHITECTURE.md`

## ğŸ“ ä»£ç é£æ ¼

- **æ¨¡å—åŒ–**: æ¯ä¸ªæ–‡ä»¶èŒè´£å•ä¸€ï¼ˆSOLID åŸåˆ™ï¼‰
- **æ³¨é‡Š**: RIPER-7 é£æ ¼çš„å¤´éƒ¨æ³¨é‡Š
- **å‘½å**: é©¼å³°å‘½åæ³• (camelCase)
- **ES6+**: ä½¿ç”¨ç°ä»£ JavaScript ç‰¹æ€§
- **å¼‚æ­¥**: ç»Ÿä¸€ä½¿ç”¨ async/await

## ğŸ” æ–‡ä»¶å¤§å°å‚è€ƒ

```
src/
â”œâ”€â”€ core/converter/
â”‚   â”œâ”€â”€ ar5iv-converter.js      (~6 KB)
â”‚   â”œâ”€â”€ mineru-client.js        (~5 KB)
â”‚   â””â”€â”€ index.js                (~7 KB)
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ helpers.js              (~4 KB)
â”‚   â”œâ”€â”€ logger.js               (~2 KB)
â”‚   â””â”€â”€ storage.js              (~4 KB)
â””â”€â”€ ui/
    â”œâ”€â”€ popup/                  (~8 KB total)
    â””â”€â”€ settings/               (~15 KB total)

Total: ~60 KB (æœªå‹ç¼©)
```

---

**Last Updated**: 2025-12-01
**Version**: 1.0.0
