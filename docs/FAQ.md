# 常见问题（FAQ）

## 🎯 基础使用

### Q: 如何使用这个插件？

**A:** 访问任意 arXiv 论文页面（如 `https://arxiv.org/abs/1706.03762`），点击页面顶部的"保存为 Markdown"按钮即可。

### Q: 支持哪些网站？

**A:** 目前仅支持 arXiv.org。计划未来支持 bioRxiv、medRxiv 等学术预印本网站。

### Q: 需要付费吗？

**A:**

- 插件本身**完全免费**
- ar5iv 转换**完全免费**
- MinerU 提供**免费额度**（每天 2000 页）

---

## 🔧 配置与设置

### Q: MinerU Token 是必须的吗？

**A:** 不是必须的。不配置 Token，插件依然可以：

- 使用 ar5iv 转换 85% 的论文
- ar5iv 失败时下载 PDF（文件名有意义）

配置 Token 后的优势：

- 可以转换 ar5iv 不支持的论文
- 质量更高（完美处理公式、表格）

### Q: 如何验证安装成功？

**A:** 按以下步骤验证：

1. **检查扩展状态**：
   - 打开 `chrome://extensions/`
   - 确认 "arXiv to Markdown" 显示为已启用
   - 版本号应为 1.0.0

2. **测试按钮注入**：
   - 访问测试论文：https://arxiv.org/abs/1706.03762
   - 等待页面完全加载（约 2-3 秒）
   - 在 PDF 下载链接旁应该出现紫色的"保存为 Markdown"按钮

3. **测试转换功能**：
   - 点击"保存为 Markdown"按钮
   - 应该显示"转换中..."提示
   - 1-3 秒后文件自动下载
   - 文件名格式：`(2017) Attention Is All You Need - Vaswani.md`

4. **检查控制台**（如果出现问题）：
   - 按 F12 打开开发者工具
   - 切换到 Console 标签
   - 查看是否有红色错误信息

如果以上步骤都正常，说明安装成功！

### Q: 如何获取 MinerU Token？

**A:**

1. 访问 [mineru.net](https://mineru.net)
2. 注册免费账号
3. 在控制台复制 API Token
4. 在插件设置中粘贴并保存

### Q: MinerU 有使用限制吗？

**A:**

- 免费账号：每天 2000 页
- 单文件：最大 200MB，最多 600 页
- 对个人使用完全足够

### Q: 哪种转换模式最好？

**A:**

- **日常使用**：质量模式（默认）
- **追求速度**：快速模式
- **重要论文**：极致模式（MinerU）

---

## 🚀 转换相关

### Q: 转换需要多长时间？

**A:**

- **ar5iv 模式**：< 1 秒
- **MinerU 模式**：5-15 秒
- **PDF 下载**：立即

### Q: 为什么"保存为 Markdown"按钮有时候不显示？

A: 插件会自动检测 ar5iv 是否已收录该论文。

- **原因**：ar5iv 需要时间（通常 1-2 天）来处理 arXiv 上新发布的论文。
- **解决方案**：如果按钮未显示，说明 ar5iv 尚未生成 HTML 版本。请使用"保存 PDF"功能，或者过几天再试。

### Q: 转换失败怎么办？

**A:** 插件有三层保障：

1. **Tier 1**: ar5iv（失败率 15%）
2. **Tier 2**: MinerU 深度解析（需配置 Token）
3. **Tier 3**: PDF 下载（始终有效）

### Q: 为什么有些论文转换失败？

**A:** 可能原因：

- ar5iv 尚未转换该论文（通常是非常新或非常老的论文）
- LaTeX 源码使用了特殊宏包
- PDF 结构过于复杂

**解决方案**：配置 MinerU Token

### Q: 转换进度卡住怎么办？

**A:** 可能原因和解决方案：

**场景 1：进度停在 0%**

- 原因：网络连接问题或 ar5iv 服务不可用
- 解决：检查网络，刷新页面重试

**场景 2：进度停在 20-40%**

- 原因：MinerU 任务提交失败（Token 无效或配额用尽）
- 解决：检查 MinerU Token，或切换到"快速模式"

**场景 3：进度停在 80%+**

- 原因：MinerU 解析超时（复杂论文）
- 解决：等待 1-2 分钟，或重新转换

**通用解决方案**：

- 打开插件 Popup，查看统计信息确认状态
- 查看浏览器控制台（F12）的错误日志
- 尝试关闭其他标签页减少内存占用

### Q: 如何知道当前使用的是哪一层转换？

**A:** 有多种方式查看：

1. **Toast 通知**（推荐）：
   - 转换完成后的通知会显示来源
   - "✅ ar5iv" = Tier 1（快速）
   - "✅ MinerU" = Tier 2（质量）
   - "📄 PDF" = Tier 3（兜底）

2. **Markdown 文件头部**：
   - 打开下载的 Markdown 文件
   - 查看 YAML Front Matter 的 `source` 字段

   ```yaml
   ---
   source: ar5iv # 或 mineru 或 pdf_fallback
   ---
   ```

3. **插件统计**：
   - 点击浏览器工具栏的插件图标
   - 查看统计数据（ar5iv 成功次数、MinerU 使用次数等）

### Q: 为什么同一篇论文每次转换速度不同？

**A:** 这是正常现象，原因如下：

**首次转换慢**（5-15 秒）：

- ar5iv 缓存未命中，需要实时生成 HTML
- 或 ar5iv 不支持，自动降级到 MinerU

**后续转换快**（<1 秒）：

- ar5iv 已缓存该论文的 HTML
- 本地 Turndown 转换几乎瞬间完成

**特殊情况始终慢**：

- 论文使用了特殊 LaTeX 宏包，ar5iv 无法处理
- 每次都会降级到 MinerU（5-15 秒）
- 建议为这类论文使用"极致模式"

### Q: 转换的 Markdown 质量如何？

**A:**

- **ar5iv 模式**：
  - 公式：✅ 完美（LaTeX 格式）
  - 表格：✅ 良好（GFM 格式）
  - 图片：✅ 外链（ar5iv CDN）
  - 排版：✅ 保留结构
- **MinerU 模式**：
  - 公式：✅ 完美（原生 LaTeX）
  - 表格：✅ 完美（高精度识别）
  - 图片：✅ 可提取
  - 排版：✅ 智能重构

---

## 📄 内容相关

### Q: Markdown 中包含图片吗？

**A:** 包含。图片以外链形式存在（指向 ar5iv CDN），需要联网查看。

**示例：**

```markdown
![Figure 1](https://arxiv.org/html/1706.03762/figure1.png)
```

**未来计划**：支持"打包下载"选项（图片一起下载）

### Q: 公式如何显示？

**A:** 公式以 LaTeX 格式保存：

- 行内公式：`$x = y$`
- 块级公式：`$$E = mc^2$$`

**支持工具：**

- Obsidian（原生支持）
- Typora（原生支持）
- VS Code（需 Markdown Preview Enhanced 插件）
- Notion（需手动转换）

### Q: 表格格式是什么？

**A:** GitHub Flavored Markdown (GFM) 格式：

```markdown
| 列1 | 列2 | 列3 |
| --- | --- | --- |
| A   | B   | C   |
```

所有现代 Markdown 编辑器都支持。

### Q: Markdown 包含元数据吗？

**A:** 是的。文件头部包含 YAML Front Matter：

```yaml
---
title: Attention Is All You Need
arxiv_id: 1706.03762
source: ar5iv
converted_at: 2025-12-01T21:18:25+08:00
---
```

可以在设置中禁用此功能。

---

## 🛠️ 技术问题

### Q: 为什么按钮没有出现？

**A:** 可能原因：

1. 不在 arXiv Abstract 页面（PDF 页面不显示）
2. 页面未加载完成（等待几秒）
3. 扩展被禁用（检查 `chrome://extensions/`）

**解决方案**：

- 刷新页面
- 确认扩展已启用
- 查看控制台错误（F12）

### Q: 点击按钮没反应？

**A:**

1. 打开 Chrome 控制台（F12）查看错误
2. 检查网络连接
3. 尝试重启浏览器
4. 在 GitHub 提交 Issue

### Q: 下载的文件名乱码？

**A:** 可能是浏览器编码问题：

- Chrome: 设置 → 高级 → 下载内容 → 编码（选择 UTF-8）
- 检查论文标题是否包含特殊字符

### Q: 能在无痕模式使用吗？

**A:** 可以，但需要：

1. 打开 `chrome://extensions/`
2. 找到 arXiv to Markdown
3. 点击"详情"
4. 开启"在无痕模式下启用"

### Q: 支持 Firefox 吗？

**A:**

- 当前：仅支持 Chrome/Edge（Chromium 内核）
- 计划中：Firefox 版本（使用 WebExtension API）

---

## 🔒 隐私与安全

### Q: 插件会收集我的数据吗？

**A:** **不会**。插件：

- ✅ 100% 本地处理（ar5iv 模式）
- ✅ 不发送任何数据到我们的服务器
- ✅ MinerU Token 加密存储在本地

### Q: MinerU Token 安全吗？

**A:**

- Token 存储在 `chrome.storage.sync`（Chrome 加密）
- 仅在调用 MinerU API 时使用
- 不会发送到任何其他地方

### Q: 需要哪些权限？

**A:**

- `storage`: 保存配置和统计
- `downloads`: 下载 Markdown 文件
- `activeTab`: 读取当前论文页面
- `notifications`: 显示转换结果
- `host_permissions`: 访问 arxiv.org、ar5iv.org、mineru.net

所有权限都是必要的，不会过度使用。

---

## 💡 高级用法

### Q: 可以批量转换吗？

**A:**

- 当前版本：不支持（需逐个点击）
- 未来版本：计划添加批量转换功能

### Q: 能自动转换吗？

**A:**

- 可以在设置中开启"自动转换"（计划中的功能）
- 进入论文页面自动弹出转换提示

### Q: 如何集成到 Obsidian？

**A:**

1. 在 Chrome 设置中：下载内容 → 位置 → 选择 Obsidian Vault 目录
2. 下载的 Markdown 会直接出现在 Obsidian 中
3. 在 Obsidian 中可直接查看和编辑

### Q: 如何集成到 Notion？

**A:**

1. 下载 Markdown 文件
2. 拖拽到 Notion 页面
3. Notion 会自动导入（但公式需要手动转换）

### Q: 支持自定义模板吗？

**A:**

- 当前版本：不支持
- 未来版本：计划支持自定义 Markdown 模板

---

## 🐛 故障排除

### Q: 扩展图标是灰色的？

**A:** 可能原因：

- 不在 arXiv 页面（扩展仅在 arXiv 激活）
- 扩展被禁用

### Q: 统计数据不更新？

**A:**

- 检查 Chrome Storage 权限
- 尝试清除并重新安装扩展
- 数据存储在本地，卸载会丢失

### Q: 转换后文件找不到？

**A:**

- 检查 Chrome 下载设置（`chrome://settings/downloads`）
- 查看默认下载位置
- 检查下载记录（`Ctrl+J`）

---

## 🚀 性能问题

### Q: 插件会影响浏览器性能吗？

**A:** 影响极小：

- **内存占用**：约 10-20MB（仅在 arXiv 页面激活）
- **CPU 占用**：转换时短暂峰值，完成后归零
- **网络流量**：
  - ar5iv 模式：约 500KB-2MB（HTML 大小）
  - MinerU 模式：约 5-20MB（PDF 上传下载）

**优化建议**：

- 转换时关闭其他占用内存的标签页
- 使用"快速模式"减少网络流量
- 清理浏览器缓存释放空间

### Q: 批量转换会很慢吗？

**A:** 取决于转换模式：

- **快速模式**：10 篇论文约 10-20 秒（并行）
- **质量模式**：10 篇论文约 30-60 秒（部分降级到 MinerU）
- **极致模式**：10 篇论文约 2-3 分钟（全部 MinerU）

**注意**：当前版本不支持真正的批量转换，需要逐个点击。未来版本将支持一键批量转换。

### Q: MinerU 配额用完后转换失败吗？

**A:** 不会失败，会自动降级：

```
MinerU 配额用尽
  ↓
插件检测到 429 错误（配额超限）
  ↓
自动降级到 Tier 3（PDF 下载）
  ↓
文件名仍然有意义（包含标题和作者）
```

你会收到通知："⚠️ MinerU 配额已用尽，已下载 PDF"

**建议**：

- 查看 MinerU 控制台确认配额重置时间
- 临时切换到"快速模式"
- 次日配额重置后继续使用"质量模式"

---

## 📞 获取帮助

### Q: 如何报告 Bug？

**A:**

1. 访问 [GitHub Issues](https://github.com/[你的GitHub用户名]/arxiv-md/issues)
2. 点击"New Issue"
3. 选择"Bug Report"模板
4. 提供详细信息：
   - 浏览器版本
   - 扩展版本
   - 复现步骤
   - 错误截图

### Q: 如何提出功能建议？

**A:**

1. 在 GitHub Issues 点击"New Issue"
2. 选择"Feature Request"模板
3. 描述你的需求和使用场景

### Q: 如何参与贡献？

**A:**

1. 阅读 [CONTRIBUTING.md](../CONTRIBUTING.md)
2. Fork 项目仓库
3. 提交 Pull Request

---

## 🎓 其他

### Q: 这是官方工具吗？

**A:** 不是。这是独立开发的第三方工具，与 arXiv 官方无关。

### Q: 可以商用吗？

**A:** 可以。本项目采用 MIT License，允许商用。

### Q: 如何支持项目？

**A:**

- ⭐ 在 GitHub 给项目点 Star
- 📢 分享给同事和朋友
- 💰 赞助开发者（GitHub Sponsors）
- 🤝 贡献代码或文档

---

**还有其他问题？** 请在 [GitHub Discussions](https://github.com/[你的GitHub用户名]/arxiv-md/discussions) 提问！
